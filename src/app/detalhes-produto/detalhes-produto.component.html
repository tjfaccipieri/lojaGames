<div class="container-fluid">
  <div class="container">
    <div class="row d-flex justify-content-between">
      <h1 class="mb-5 ps-5 ms-5">{{ produto.nome }}</h1>
      <div class="col-5 d-flex justify-content-center">
        <div class="col-8">
          <img
            [src]="produto.foto"
            alt=""
            class="img-fluid rounded-3 imagem-produto"
          />
        </div>
      </div>
      <div class="col d-flex align-items-center">
        <div class="row">
          <span class="fw-bold">Plataforma: {{ produto.categoria.tipo }}</span>
          <div class="d-flex align-items-center justify-content-between">
            <div>
              <p class="p-0 m-0 preco">{{ produto.preco | currency: "BRL" }}</p>
              <small>Em até 12x de {{ prodParcela }}</small>
              <p class="pix">
                Valor no PIX: {{ prodDesconto | currency: "BRL" }}
              </p>
              <hr />
              <small class="text-secondary pequeno"
                >Disponivel em estoque: {{ produto.quantidade }} unidades</small
              >
            </div>
            <button class="botao btn w-25" (click)="addProduto()">
              <i class="fa fa-shopping-cart" aria-hidden="true"></i> Comprar
            </button>
          </div>
        </div>
      </div>
    </div>

    <hr />
    <div class="d-flex flex-column mt-3 border p-3 rounded-3 border-dark">
      <h4>Descrição:</h4>
      <p class="w-100">{{ produto.descricao }}</p>
      <small
        >Publicado por:
        <span class="fw-bold">{{ produto.publisher }}</span></small
      >
      <small
        >Data de Lançamento:
        <span class="fw-bold">{{
          produto.dataLancamento | date: "dd/MM/yyyy"
        }}</span></small
      >
      <small
        >Genero: <span class="fw-bold">{{ produto.estilo }}</span></small
      >
    </div>
    <hr />
  </div>

  <div class="container">
    <h4 class="text-center">Produtos Sugeridos</h4>
    <div class="row">
      <ng-container *ngFor='let item of categoria.produto'>
      <div class="col-md-3 produto-card" *ngIf='item.id != produto.id' >
        <div class="card">
          <a [routerLink]="['/detalhesProduto', item.id]">
            <img
              [src]="item.foto"
              alt="Card image cap"
              class="imagem-card"
            />
          </a>
          <div class="card-body p-0">
            <p
              class="card-text text-center fw-bold text-nowrap elipse m-1 fs-6"
            >
              {{ item.nome }}
            </p>
            <div class="d-flex">
              <div class="d-flex flex-column justify-content-between m-2">
                <small
                  class="m-1 fw-bold text-decoration-line-through text-red"
                  >{{ item.preco | currency: "BRL" }}</small
                >
                <h5 class="mx-1 mb-0 text-blue">
                  {{ item.preco - item.preco * 0.15 | currency: "BRL" }}
                </h5>
                <small class="mx-1 mt-0 text-small text-blue"
                  >A vista no PIX</small
                >
                <!-- <i class="fa fa-cart-plus" aria-hidden="true"></i> -->
              </div>
              <div
                class="w-100 d-flex justify-content-center align-items-center"
              >
                <img [src]="categoria.foto" alt="" class="image-logo" />
              </div>
            </div>
            <button class="btn w-100 comprar" (click)='getProdById()'>
              <i class="fa fa-cart-plus" aria-hidden="true"></i>
              <span>Comprar</span>
            </button>
          </div>
        </div>
      </div>
    </ng-container>
</div>
